#--------------------------------------------------------------
# Make a single cobol module LPI
# @(#)lpicobol.umf	1.6 2/4/93
#--------------------------------------------------------------


MODULE=dummy
#--------------------------------------------------------------
# Temporary for development
# COB=cob
# COBOLFLAGS=-cgx -C LINKCOUNT=5000
#--------------------------------------------------------------
# Actual
CDEBUG=-g

COB=lpicobol
COBOLFLAGS=$(CDEBUG)
#--------------------------------------------------------------
LN=mv

.SUFFIXES:	.wcb~ .wcb .int

$(MODULE):

.wcb.o:
	wisp -VLPI $*.wcb
	$(COB) $(COBOLFLAGS) -o $*.o $*.cob 2>$*.er
	rm $*.er

.wcb~.o:
	wisp -VLPI $*.wcb
	$(COB) $(COBOLFLAGS) -o $*.o $*.cob 2>$*.er
	rm $*.er
	rm -f $*.wcb


# This version never used for LPI COBOL
.wcb.int:
	wisp -VLPi $*.wcb
	cob -cg -o $*.int $*.cob 2>$*.er
	$(LN) $*.int `echo $*|tr '[a-z]' '[A-Z]'`.int
	$(LN) $*.idy `echo $*|tr '[a-z]' '[A-Z]'`.idy
	rm $*.er



