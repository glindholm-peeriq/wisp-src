	Copyright (c) Shell Stream Software LLC. All Rights Reserved.
	====================================================================
	
	Title:		PORTING WISP TO WIN32
	
	Document:	portwin32.txt
	Products:	WISP/WIN32 EDE KCSI
	WISPVER:	5.1.XX and later
	
	Summary:	Instructions on re-porting WISP to WIN32


	====================================================================
	

	PORTING WISP TO WIN32
	=====================
	
	This document describes the process of re-porting WISP to WIN32.
	

	Transfering a WISP Source Kit
	-----------------------------

	From git:

		cd wisp
		git clone git@bitbucket.org:glindholm/wisp-src-main.git src
		cd src
		git checkout {BRANCH}

	This will create a standard wisp source kit directory layout.


	Set Up The Project
	------------------
	Edit makefiles and set the ACUDIR and COBOL value to
	point to the location of Acucobol directory. 

	[_] Set the environment variable ACUDIR=C:\data\Acucorp\Acucbl910\AcuGT
		Note: The Acucobol license files are generated here:
			C:\ProgramData\Micro Focus\extend\9.1.0\x86\

	or set ACUDIR in each of theses makefiles

	[_] src\acu\wacu.mak
	[_] src\kcsi\kcsicob.mak
	[_] src\test\sampleacu.mak
	[_] src\wisptran\wisptran_test.mak
	[_] src\wisputils\disprint.mak

	Build the Project
	-----------------
	Run the MSVS 2005 using the wisp project solution
	file "wisp\src\wisp.sln" . 

	[_] Clean "SHIPKIT - Release" 

	[_] Build "SHIPKIT - Release" 

	[_] Rebuild "TESTACU - Release"

	[_] Build the Acucobol runtimes
		   
	   [_]	Build "acu91_prep_qa"
	   
		- Prepares to build the Acucobol 9.1 runtimes 
		- Copy all the needed files into a build area(src\acu\acu91\acu91_prep_qa\acu_lib_wisp)
		- The files from ${ACUDIR)\lib will be copied from the Acucobol install area
		- The WISP files will be copied from the ship kit build area (src\kit\wisp)
	   
	   [_]  Open folder src\acu\acu91\acu91_prep_qa and build each of 
		the Acucobol runtimes 
		
		- For each solution file open it to open Visual Studio 10.
		- Change the configuration from Debug to Release
		- Right-click on the solution and "Rebuild Solution"
		
		WISP only runtimes:
		
		[_] acu_lib_wisp\wrun32.sln

		[_] acu_lib_wisp\run32.sln

		[_] acu_lib_wisp\crun32.sln
		
		WISP + KCSI runtimes:
		
		[_] acu_lib_kcsi\wrun32.sln

		[_] acu_lib_kcsi\run32.sln

		[_] acu_lib_kcsi\crun32.sln
		
		WISP + EDE runtimes:
		
		[_] acu_lib_ede\wrun32.sln

		[_] acu_lib_ede\run32.sln

		[_] acu_lib_ede\crun32.sln



	The WISP Shipping Kits
	----------------------
	The build will have created a KIT directory with the shipping kits.

		wisp\src\kit
		wisp\src\kit\wisp	The WISP kit
		wisp\src\kit\ede	The EDE kit
		wisp\src\kit\kcsiacu	The KCSI/Acucobol kit

	Detailed instructions for building Ship Kits
	--------------------------------------------
	
	- Ensure Build SHIPKIT completes without error
	- Check in any changes to source control
	- Clean SHIPKIT
	- Build SHIPKIT
	- Remove the kits from C:\dev\wisp\src\kit
	- CVS diff / revert acu changes
	- Build SHIPKIT
	- Rename src\kit\wisp to src\kit\wisp51xx
	- Zip wisp51xx folder
	- rename wisp51xx.zip to wisp_51xx_win32.zip
	- copy kits to C:\ShellStream\WISP_Shipping
	- copy kits to devel.shellstream.net
	
	
	Save ACU QA Objects
	-------------------
	
	- Clean TESTACU
	- Build TESTACU
	- mkdir acuqa.wisp5150.acu910
	- copy *.acu to acuqa.wispxxx.acuxxx (expect 72 items)
	- zip folder
	- check in to source control
	
	QA TEST WISP
	------------

	Follow QAWISP.LIS instructions.

	
	CUT A WISP RELEASE
	==================
	
	[ ]	See src\wispcommon\wcommon.h for WISPVER
	[ ]	Build the Versions_xxxx.txt file:
		cd src/port (ON UNIX)
		versions.sh
		cvs add -ko Versions_xxxx.txt
		cvs commit Versions_xxxx.txt
	[ ]	Tag the release in CVS (e.g. V5_1_10)
	[ ]	Build source kit
		cd tmp (on UNIX)
		cvs co -P -d src wisp/src
		-- or --
		cvs co -P -r V5_1_10 -d src wisp/src
		$WISP/src/port/tarz src
		mv src.tar.Z wisp5150.src.tar.Z
		ftp to C:\ShellStream\WISP_Source

	========================= END OF DOCUMENT ==========================
