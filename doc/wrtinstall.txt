                                                            wrtinstall.lis
                                                                12/22/93

                             WISP RUNTIME ENVIRONMENT
                              INSTALLATION PROCEDURE


      1. Assumptions:
         a. A "C" development system is on the system.
         b. A "COBOL" development system is on the system.
         c. The user is using either:
              .. the bourne or korn shell and .profile control script.
              .. the c_shell and the .login script


      2.  WISP kit:
          a. Install WISP kit per WISP manual, Appendix A.
          b. Change the WISP directory name to wisp.<nna>, where "<nna>" is
             the version number of the WISP kit.  This will allow for
             multiple WISP kits to be on the system at the same time.

                        example: mv wisp wisp.32x11

          c. Build the COBOL/WISP runtime program (See Appendix A).
             Notes: ..you must be super user to do build the runtime(s).
                    ..put the runtime(s) in the WISP kit bin directory.
          d. Change the Unix owner and group idenifiers in the kit.
   
      3.  Configuration files (Do only for a first time installation):
          Copy the "config" directory from the WISP kit into the user's
          application (ie. system) control files location.


      4.  Modify the ".profile" or ".login" scripts:
              NOTE: see sample .profile script in section 1, WISP Notes
          a. Modify each user login account ".profile" or ".login" file so
             that it points to the WISP "STARTUP" script.
          b. Update the Unix PATH variable.  Add a subpath pointing to the
             WISP kits' "bin" directory in each user(s) ".profile" or
             ".login" script.
      
      
      5.  Modify the "STARTUP" script:
              NOTE: see sample STARTUP script in section 1, WISP Notes
          a. Define the "WISPTERM", "WISPCONFIG" and "WISPGID" variables.
              Note: see appendix B, page 09 for WISPGID
          b. For Micro Focus -
             .. Change the Micro Focus variable "COBDIR" to point at the
                COBOL directory.
             .. Change the "COBPATH" variable to point at the compiled program
                "obj" code directories.
          c. For ACUCOBOL -
             .. Change the "A_CONFIG" varialble to point at the "ACUCONFIG"
                file location. Normally this file is in the config directory.
             .. The ACUCONFIG file will be built further on in this process.
          d. Then log out and log in again, or rerun the ".profile or
             ".login" files.





      6.  Run wdiag to check the system environment, correct any problems
          found by wdiag.


      7.  License Key:
          a. If you have a UNLIMITED or TIMED license, the License is
             installed by running "wlicense" and entering your License
             Key value.
          b. If your license type is SINGLE CPU, the license program will
             provide you with a system (ie. machine) number.
             ..Run "wlicense" and enter your License Key value.
             ..Call IDSI to receive a validation code for your SINGLE
               CPU license.
             ..Run "wlicense" and enter your License Key and validation
               value.


      8.  Run "wsysconf" in automatic mode to set up the file "wsysconfig" in
          the "config" directory.  This file will relate (ie. tie) the Wang
          and Unix device descriptions too each other.
             Note: see chapter 10 and RELNOTES 3.2b


      9.  Configuration files to be modified:
          a.  Change directory (cd)to the "config" directory.
          b.  Modify "LGMAP" to equate Wang Volume Names to Unix paths.
          c.  Modify the "wrunconfig" file for Micro Focus cobol or ACUCOBOL
              (See appendix B, Page B-9)
              ..For Micro Focus remove the "-b" from "options="
              ..For Micro Focus change "runcbl" to "runcbl=wrunmf"
              ..For Micro Focus change "cobol" to "cobol=MF"
              ..For ACUCOBOL change "runcbl" to "runcbl=wruncbl"
          d.  Modify the "SCMAP" file to control priorities for background
              job processing.  Unix nice priorities range from 19 to 0, we
              recommend nice levels of 05 to 07.
          e.  Modify "OPTIONS" file (See chap. 2, page 2-31) as needed:
              ..If using the IDSI printq, un-comment IDSIPRINTON.
              ..Increase MAXPRBPAGES and MAXRBPARMS if there will be a
                large number of putparms per user.  For 95% of users, the
                defaults will be large enough.  Keep ratio of these two
                values at approximately 1:3
              ..Note: Unix signal debugging options SIGNALON and SIGNALOFF.
                (See Chapter 2, page 39 for further explanation of these
                runtime options).
          f.  For ACUCOBOL, create or modify the ACUCONFIG file (See appendix
              B-13 of the manual).
              .. Build the ACUCONFIG file:
                - copy the file cblconfig from the acucobol directory
                  to the WISP config directory.
                - enable the "FILE-STATUS-CODE 74" if you want cobol 74
                  file status values, default is cobol 85.
                - add the "CODE-PREFIX (path to objects)", the paths
                  to the cobol compiled objects.
                - add the "MAX-FILES 32", maximum files allowed per
                  cobol program.
                - add the "MAKE-ZERO 1", non-numeric field data forced
                  to zero for initial testing.
                - add the "WARNINGS 0", see all runtime warnings.




      10. Run "wusage flags" (See Chap 10, page 10-38 to 10-41):
          a.  Run "wusage flags".  Set the flags to "Y" (ie. Yes) for options
              appropriate for a generic user help-screen.
          b.  On an RS6000 system, set "Enable Manage SYSTEM" to "N" so
              users can not do system maintainance through SMIT.
      
      
      11. Run "wusage shell" (See page 10-38) and specify RUNLIB, RUNVOL,
          WRKVOL and SPLVOL. The other volume and library names may also
          be specified.  Note: the user may also use a Unix script to set
          these with "wusage set" command.


      12. PERSONALITY files:
          There are several user personality files that can be created using
          WISP.  At this time you are running with a temporary PERSONALITY
          file named: "/usr/tmp/PERSON<tty>.<userID>".  The "<tty>" in the
          name is the user's terminal identifier, this allows the same user
          to login on several different terminals (ie. workstations).  The
          "<userID>" in the PERSONALITY file name is the first 3 characters
          of your login id. If you are using a version of Unix which requires
          a 5 character user id, WISP will use the first 3 characters.
          
          From the WISP help screen use PF_key 13 "Save Environment", to
          update the PERSONALITY file(s).  Note, when a user logs on, WISP
          will check to see if a temporary PERSONALITY file exists.  If not,
          it will check the users home directory for a PERSONALITY file and
          make a copy of it in "usr/tmp".  If it is not in the user home
          directory, it will look in the "config" directory and copy that
          file into "usr/tmp".  If no PERSONALITY file exits, WISP will use
          a default PERSONALITY definition.

          Note: Remember the PERSONALITY file controls printing, submitting,
          access to utilities, usage constants, etc.


      13. If using the IDSI print queue, remove LPMAP, PRMAP, FORMS from the
          config directory.


      14. Disable ^C for end users (See manual Page B-12). Do not disable for
          programmers.  This will keep users out of the Unix shell.


      15. Run "wsysconf" again to get everything in synch.

   
      16. Run "wsysinit" once a day when system is in idle mode (no users).
          This is needed to clean up the WISP environment.









      17. Create "LINK" programs for the COBOL runtime environments:
          Note: these programs contain a table of 32 items, each item
                represents one link parameter.  Each item is 1024 bytes
                long.  If any link parmater used by your programs is greater
                than 1024, change the size of all table items to the larger
                required byte size.

          a. Create "MFLINK" if using Micro Focus cobol:
             .. Change directory to the WISP kit "mf" directory, compile the
                program source "mflink.cob" with Micro Focus cobol (See WISP
                notes section 2, mflink.doc).
             .. Move "mflink.int" as "MFLINK.int" to a user program "obj"
                directory.
          b. Create "ACULINK" if using ACUCOBOL:
             .. Change directory to the WISP kit "acu" directory, compile the
                program source "aculink.wcb" with ACUCOBOL (See chap 2).
             .. Move "aculink" as "ACULINK" to a user program "obj" directory.
          c. Create "ACUUSING" per manual (See appendix B-13).


      18. Install the IDSI printq (See PRINTQ document, section 3):
          a. Become the super (ie. root) user.
          b. Change directory to "/usr/spool".
          c. Make directory "iprint".
          d. Change to directory "iprint".
          e. Make directories, "data", "init" and "auto".
          f. Copy the "ilpremote", "formdef", "prtdef", "classdef" and
             "ilpdef" files from the WISP kit "etc" directory.
          g. Modify the configuration files to configure your printing
             environment.
          h. Create a user called "ilp".
          i. Copy the "ilp" and "ilpman" programs to "/usr/local/bin" or
             "/usr/bin".
          j. Copy the "idaemon" and "ishut" programs to "/usr/lib" and change
             the Unix owner and access controls per book.
          k. Run the "idaemon" and check the "errs" file in the
             "/usr/spool/iprint" directory for problems, adjust the
             control files as needed.
          l. Add the execution of the idaemon to your systems' user "rc"
             initiation file.
          m. Exit super user mode.
  

