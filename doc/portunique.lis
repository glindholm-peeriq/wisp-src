							portunique.lis
							11/22/93

	UniQue PORTING INSTRUCTIONS FOR UNIX
	==================================

	This document describes the action needed to port UniQue to a
	UNIX platform.


	NEEDED COMPONENTS
	=================

	The following components are required to port UNIQUE.

	[ ]	UniQue source kit  e.g.  uni303.cpio.Z

	LOAD THE WISP SOURCE KIT
	========================

	[ ]	CREATE THE UNIQUE DIRECTORY

		Make a base UNIQUE directory to hold all the UNIQUE related
		files. (If a UNIQUE directory already exists don't recreate.)

		Example:
			$ mkdir /usr2/unique

	[ ]	SET ENVIRONMENT VARIABLES

		Set the variable UNIQUE equal to the UNIQUE directory.

	[ ]	RENAME THE OLD SOURCE DIRECTORY

		If a previous port of UNIQUE exists on this machine then
		rename or delete the old source directory.

			$ cd $UNIQUE
			$ mv src src.v31

	[ ]	LOAD THE NEW SOURCE KIT

	 	Load the source kit from external media using tar or cpio.
		Then uncompress it and un-cpio it to create the "src"
		directory.

			$ cd $UNIQUE
			$ tar xvf /dev/rmt0
			$ uncompress uni303.cpio.Z
			$ cpio -icvd <uni303.cpio


	MODIFIY UNIQUE SYSTEM DEPENDENT FILES
	===================================

	There are a couple of files which will have to change when you
	do a port, these contain system dependent information.


	[ ]	$UNIQUE/src/port/make.include
		Uncomment the correct system flags or create a new
		entry if this is a new port.


        ****************************************************************
           IMPORTANT  IMPORTANT  IMPORTANT  IMPORTANT  IMPORTANT 
        ****************************************************************

        If you are also porting WISP to this machine, you should 
        port wisp first.  You should then copy libvideo.a from the
        WISP build into the UNIQUE src/lib directory.  This will save
        the time of building the same libvideo.a again.  The command
        would be as follows (assumes $WISP is set):

        $ cp $WISP/src/lib/libvideo.a $UNIQUE/src/lib

        NOTICE that you must use the make.include that came with the 
        UniQue source kit.  Do not copy the $WISP/src/port/make.include
        file into the UniQue source tree.


	BUILD ALL UNIQUE COMPONENTS
	=========================

	Change to the port directory and start the super-make that will
	start all the makefiles to build all the components.

	[ ]	$ cd $UNIQUE/src/port
		$ make >>make.err 2>&1 &	# make and log errors
		$ tail -f make.err		# show progress on screen

	[ ]	$ vi make.err			# ensure no errors

	On any error you will have to fix the problem and re-issue the
	above command.

	BUILD THE UNIQUE SHIP KIT
	=======================

	To create the shipping kit, su to superuser and cd to 
        $UNIQUE/src/printq.  Type "make ship":

        $ su
        Password:
        # cd ../printq
        # make ship

           ... creates $UNIQUE/uni303.ship directory ...
        
        This must be done as root for now.  This procedure will be
        changed when in the future as time permits.

        TEST UNIQUE IF POSSIBLE
        =======================

        There is currently no UniQue QA script or document.  One
        will be written in the future as time permits.  Presently
        you should set up unique and run udaemon.  If you cannot
        create /usr/spool/uprint use another directory and set
        $USPOOL.  It is probably a good idea to test the operator
        handling (set a user as operator and see if he can manipulate
        another user's files).  Also setup a simple type=program 
        printer and a type=device printer which prints to a 
        tty (an unused xterm is fine).  For the type=program printer
        you can simply put:

        testprtr:
             lp="cat >/tmp/`basename $filename`.prt
             type=program

        Print a file to this printer and make sure /tmp/zzzz.prt 
        (zzzz is the original name) exists.  Try changing classes
        of printers and print jobs.  Enter the new class as lower
        case, make sure it is updated to upper case.



	UPDATED SCS WITH MODIFIED FILES
	===============================

	All modified source files need to be returned to SCS.  Keep a
	list of all files that changed.

	[ ]	UPDATE SCS
		____________________________________________
		____________________________________________
		____________________________________________
		____________________________________________
		____________________________________________
		____________________________________________


	PACK UP THE UNIQUE SHIP KIT
	=============================

	[ ]	$ cd $UNIQUE

		$ find uni303.ship -print | cpio -ocv | compress -c >uni303.cpio.Z

